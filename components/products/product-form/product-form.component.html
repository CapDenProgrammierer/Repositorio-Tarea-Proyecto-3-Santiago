<form *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
  <input type="hidden" formControlName="id" />

  <div class="row">
    <div class="col-md-6 mb-3">
      <label class="form-label">Nombre</label>
      <input class="form-control" formControlName="nombre" />
      <div *ngIf="form.get('nombre')?.invalid && (form.get('nombre')?.touched || form.get('nombre')?.dirty)" class="text-danger small">
        Nombre requerido
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <label class="form-label">Precio</label>
      <input type="number" step="0.01" class="form-control" formControlName="precio" />
      <div *ngIf="form.get('precio')?.invalid && (form.get('precio')?.touched || form.get('precio')?.dirty)" class="text-danger small">
        Precio requerido
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <label class="form-label">Cantidad Stock</label>
      <input type="number" class="form-control" formControlName="cantidadStock" />
    </div>

    <div class="col-md-6 mb-3">
      <label class="form-label">Categoria (ID)</label>
      <input type="number" class="form-control" formControlName="categoriaId" />
      <div *ngIf="form.get('categoriaId')?.invalid && (form.get('categoriaId')?.touched || form.get('categoriaId')?.dirty)" class="text-danger small">
        Categoria requerida (ID)
      </div>
    </div>

    <div class="col-12 mb-3">
      <label class="form-label">Descripci√≥n</label>
      <input class="form-control" formControlName="descripcion" />
    </div>
  </div>

  <div class="d-flex gap-2">
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">{{ isEdit ? 'Actualizar' : 'Guardar' }}</button>
    <button type="button" class="btn btn-secondary" (click)="form.reset({ id:0, nombre:'', descripcion:'', precio:0, cantidadStock:0, categoriaId:null })">Limpiar</button>
  </div>
</form>
